<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>upload file</title>
</head>
<body>
<div>
    <form>
        <input type="file" value="" class="input input-video" id="input-video"/>
        <button type="submit" id="btn-submit">上传</button>
    </form>
</div>
<script>
    function uploadFile(fd) {
        fetch('http://localhost:3000/upload', {
            method: 'POST',
            body: fd,
            headers: {
                'Content-Type': 'multipart/form-data'
            }
        }).then(res => {
            if (res.ok) {
                console.log('success');
                return res.json();
            } else {
                console.log('error');
            }
        }).then(res => {
            console.log('res is', res);
        });
    }

    window.addEventListener("load", function () {
        document.getElementById("input-video").addEventListener("change", function (e) {
            var file = e.target.file.files[0]
                , formData = new FormData()
            ;
            formData.append("file", file);
            uploadFile(formData);
        });
    });
</script>
</body>
</html>